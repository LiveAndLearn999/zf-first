(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-02886d48"],{"2be0":function(t,e,a){},"2c59":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"wechat-title",rawName:"v-wechat-title",value:t.$route.meta.title,expression:"$route.meta.title"}]},[a("div",{staticStyle:{height:"46px","line-height":"46px"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("div",{staticStyle:{"padding-left":"16px"}},[a("i",{staticClass:"el-icon-s-unfold"}),a("span",{staticStyle:{"padding-left":"9px"}},[t._v(t._s(t.$store.state.AdminData.active_title))])])]),a("el-col",{attrs:{span:18}},[a("div",{staticStyle:{"text-align":"right"}},[a("el-link",{staticClass:"menu",on:{click:function(e){return t.onSubMenu("onRefresh",!0)}}},[t._v("刷新")]),a("el-link",{staticClass:"menu",on:{click:function(e){return t.onSubMenu("onSearch",!0)}}},[t._v("搜索")]),t._l(t.$store.state.AdminData.right_menus,(function(e,o){return a("el-link",{key:o,staticClass:"menu",on:{click:function(a){return t.onSubMenu(e)}}},[t._v(t._s(e.name))])}))],2)])],1)],1),a("div",{staticStyle:{"border-top":"solid 1px #f2f1f4"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{stripe:!0,data:t.rows,height:t.height-60-46-48,"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)","highlight-current-row":!0,size:"mini"},on:{"sort-change":t.onSortChange,"current-change":t.onSelectRow}},[a("el-table-column",{attrs:{prop:"work_staff_name",label:"姓名",align:"center"}}),a("el-table-column",{attrs:{prop:"add_time",label:"添加日期",align:"center",sortable:!0}}),a("el-table-column",{attrs:{prop:"content",label:"工作内容",align:"center","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{prop:"imgs",align:"center",label:"参考图片"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.imgs.length>0?"有":"无")+" ")]}}])}),a("el-table-column",{attrs:{prop:"enable_check",align:"center",label:"是否可审核"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(0==e.row.enable_check?"不可":"可")+" ")]}}])}),a("el-table-column",{attrs:{prop:"check_staff_name",align:"center",label:"审核人"}}),a("el-table-column",{attrs:{prop:"check_time",label:"审核时间",align:"center",sortable:!0}})],1),a("div",{staticClass:"page",style:{width:t.width-250+"px"}},[a("el-pagination",{attrs:{"current-page":t.SearchFormData.page_num,layout:"prev, pager, next, jumper",total:t.total},on:{"update:currentPage":function(e){return t.$set(t.SearchFormData,"page_num",e)},"update:current-page":function(e){return t.$set(t.SearchFormData,"page_num",e)},"current-change":t.onPageChange}})],1)],1),a("el-dialog",{attrs:{title:"搜索页面",visible:t.search_show,width:"450px"},on:{"update:visible":function(e){t.search_show=e}}},[a("el-form",{attrs:{model:t.SearchFormData,"label-width":"120px"}},[a("div",{staticClass:"block",staticStyle:{"text-align":"center"}},[a("span",{staticClass:"demonstration"}),a("el-date-picker",{attrs:{clearable:!0,align:"center",type:"daterange","value-format":"yyyy-MM-dd","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.SearchFormData.start_end,callback:function(e){t.$set(t.SearchFormData,"start_end",e)},expression:"SearchFormData.start_end"}})],1)]),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.search_show=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.onSearchSubmit}},[t._v("确 定")])],1)],1),a("el-drawer",{attrs:{visible:t.add_show,size:"40%",title:"添加"},on:{"update:visible":function(e){t.add_show=e}}},[a("el-form",{staticStyle:{padding:"20px"},attrs:{model:t.AddFormData,"label-width":"80px"}},[a("el-form-item",{staticStyle:{"text-align":"center"},attrs:{label:"工作内容:"}},[a("el-input",{attrs:{rows:8,type:"textarea",placeholder:"请输入工作内容"},model:{value:t.AddFormData.content,callback:function(e){t.$set(t.AddFormData,"content",e)},expression:"AddFormData.content"}})],1),a("el-form-item",{attrs:{label:"图片上传:"}},[a("el-upload",{attrs:{action:t.upload_url,"list-type":"picture-card","on-success":t.handleAddUploadSuccess,"on-remove":t.handleAddRemove}},[a("i",{staticClass:"el-icon-plus"})])],1),a("el-form-item",{attrs:{label:"允许审核:"}},[a("el-radio",{attrs:{label:1},model:{value:t.AddFormData.enable_check,callback:function(e){t.$set(t.AddFormData,"enable_check",e)},expression:"AddFormData.enable_check"}},[t._v("可审核")]),a("el-radio",{attrs:{label:0},model:{value:t.AddFormData.enable_check,callback:function(e){t.$set(t.AddFormData,"enable_check",e)},expression:"AddFormData.enable_check"}},[t._v("不可审")])],1)],1),a("el-divider"),a("el-footer",[a("div",{staticStyle:{"text-align":"center"}},[a("el-button",{on:{click:function(e){t.add_show=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.onAddSubmit}},[t._v("确 定")])],1)])],1),a("el-drawer",{attrs:{visible:t.edit_show,size:"40%","with-header":!1},on:{"update:visible":function(e){t.edit_show=e}}},[a("el-container",[a("el-divider"),a("el-header",{staticStyle:{"text-align":"center"}},[t._v("编辑窗口")]),a("el-divider"),a("el-main",[a("el-form",{attrs:{model:t.EditFormData,"label-width":"80px"}},[a("el-form-item",{staticStyle:{"text-align":"center"},attrs:{label:"工作内容:"}},[a("el-input",{attrs:{rows:8,type:"textarea",placeholder:"请输入工作内容"},model:{value:t.EditFormData.content,callback:function(e){t.$set(t.EditFormData,"content",e)},expression:"EditFormData.content"}})],1),a("el-form-item",{attrs:{label:"图片上传:"}},[a("el-upload",{attrs:{action:t.upload_url,"list-type":"picture-card","file-list":t.EditFormData.file_imgs,"on-success":t.handleEditUploadSuccess,"on-remove":t.handleEditRemove}},[a("i",{staticClass:"el-icon-plus"})])],1),a("el-form-item",[a("el-radio",{attrs:{label:1},model:{value:t.EditFormData.enable_check,callback:function(e){t.$set(t.EditFormData,"enable_check",e)},expression:"EditFormData.enable_check"}},[t._v("可审核")]),a("el-radio",{attrs:{label:0},model:{value:t.EditFormData.enable_check,callback:function(e){t.$set(t.EditFormData,"enable_check",e)},expression:"EditFormData.enable_check"}},[t._v("不可审")])],1)],1)],1),a("el-divider"),a("el-footer",[a("el-divider"),a("div",{staticStyle:{"text-align":"center"}},[a("el-button",{on:{click:function(e){t.edit_show=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.onEditSubmit}},[t._v("确 定")])],1)],1)],1)],1),a("el-drawer",{attrs:{visible:t.check_show,modle:t.CheckFormData,size:"50%","with-header":!1},on:{"update:visible":function(e){t.check_show=e}}},[a("el-card",{staticClass:"box-card1"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("工作内容")])]),a("div",[a("span",[t._v("添加时间： "+t._s(t.CheckFormData.add_time))]),a("el-divider"),a("span",[t._v("添加人： "+t._s(t.CheckFormData.work_staff_name))]),a("el-divider"),a("span",[t._v("日清内容： "+t._s(t.CheckFormData.content))]),a("el-divider"),a("span",[t._v("可否审核： "+t._s(0==t.CheckFormData.enable_check?"不可":"可"))]),a("el-divider"),a("span",[t._v("点击图片查看大图 :")]),a("div",{staticClass:"demo-image__preview"},[a("el-image",{staticStyle:{width:"30px",height:"30px"},attrs:{src:t.CheckFormData.imgs[0],"preview-src-list":t.CheckFormData.imgs}})],1)],1)]),a("el-card",{staticClass:"box-card1"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("审核内容")])]),a("el-form",{attrs:{model:t.CheckFormData,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"审核评价:"}},[a("el-input",{attrs:{rows:5,type:"textarea",placeholder:"请输入工作内容"},model:{value:t.CheckFormData.check_content,callback:function(e){t.$set(t.CheckFormData,"check_content",e)},expression:"CheckFormData.check_content"}})],1),a("el-form-item",{attrs:{label:"评分:"}},[a("el-input",{model:{value:t.CheckFormData.check_grade,callback:function(e){t.$set(t.CheckFormData,"check_grade",e)},expression:"CheckFormData.check_grade"}})],1)],1),a("div",{staticStyle:{"text-align":"center"}},[a("el-button",{on:{click:function(e){t.check_show=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.onCheckSubmit}},[t._v("确 定")])],1)],1)],1),a("el-dialog",{attrs:{title:"运营员工评论工作日清",visible:t.comment_show,width:"30%"},on:{"update:visible":function(e){t.comment_show=e}}},[a("el-form",{attrs:{model:t.CommentFormData,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"评论内容:"}},[a("el-input",{attrs:{rows:2,type:"textarea",placeholder:"请输入评论内容"},model:{value:t.CommentFormData.content,callback:function(e){t.$set(t.CommentFormData,"content",e)},expression:"CommentFormData.content"}})],1)],1),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.comment_show=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.onCommentSubmit}},[t._v("确 定")])],1)],1),a("el-drawer",{attrs:{visible:t.detail_show,modle:t.DetailFormData,size:"50%","with-header":!1},on:{"update:visible":function(e){t.detail_show=e}}},[a("el-card",{staticClass:"box-card1"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("工作内容")])]),a("div",[a("span",[t._v("添加时间： "+t._s(t.DetailFormData.add_time))]),a("el-divider"),a("span",[t._v("添加人： "+t._s(t.DetailFormData.work_staff_name))]),a("el-divider"),a("span",[t._v("日清内容： "+t._s(t.DetailFormData.content))]),a("el-divider"),a("span",[t._v("可否审核： "+t._s(0==t.DetailFormData.enable_check?"不可":"可"))]),a("el-divider"),a("span",[t._v("点击图片查看大图 :")]),a("div",{staticClass:"demo-image__preview"},[a("el-image",{staticStyle:{width:"30px",height:"30px"},attrs:{src:t.DetailFormData.imgs[0],"preview-src-list":t.DetailFormData.imgs}})],1)],1)]),a("el-card",{staticClass:"box-card2"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("审核结果")])]),a("span",[t._v("审核时间： "+t._s(t.DetailFormData.check_time))]),a("el-divider"),a("span",[t._v("审核人： "+t._s(t.DetailFormData.check_staff_name))]),a("el-divider"),a("span",[t._v("审核评价： "+t._s(t.DetailFormData.check_content))]),a("el-divider"),a("span",[t._v("审核分数： "+t._s(t.DetailFormData.check_grade))])],1)],1)],1)},i=[],r=(a("4160"),a("159b"),a("2b0e")),n=a("4360"),s=a("d568"),c=a("e0eb");n["a"].state.WorkData||r["default"].set(n["a"].state,"WorkData",{rows:[],total:0,loading:!1,curr_row:null,search_show:!1,SearchFormData:{start_end:["",""],order_field:"add_time",order_sort:"asc",page_num:1,page_len:10},add_show:!1,AddFormData:{content:"",imgs:[],enable_check:1},edit_show:!1,EditFormData:{content:"",imgs:[],enable_check:""},check_show:!1,CheckFormData:{uuid:"",imgs:[],check_content:"",check_grade:""},comment_show:!1,CommentFormData:{uuid:"",content:""},detail_show:!1,DetailFormData:{uuid:"",imgs:[]}});var l={data:function(){return n["a"].state.WorkData},computed:{img_host:function(){return n["a"].state.AppData.img_host},width:function(){return n["a"].state.AppData.width},height:function(){return n["a"].state.AppData.height},upload_url:function(){return n["a"].state.AppData.upload_url}},created:function(){this.init()},methods:{onSubMenu:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];c["a"].submenu(t,this,s["a"].cookie_get("login_token"),e)},init:function(){var t=this;this.loading=!0;var e="";""!=this.SearchFormData.start_end[0]&&(e=c["a"].dateString(this.SearchFormData.start_end[0]));var a="";""!=this.SearchFormData.start_end[1]&&(a=c["a"].dateString(this.SearchFormData.start_end[1])),s["a"].req("ManageWorkDayList",{login_token:s["a"].cookie_get("login_token"),start_date:e,end_date:a,order_field:this.SearchFormData.order_field,order_sort:this.SearchFormData.order_sort,page_num:this.SearchFormData.page_num,page_len:this.SearchFormData.page_len}).then((function(e){t.loading=!1,t.rows=e.data.rows,t.total=e.data.total,t.curr_row=null})),setTimeout((function(){t.loading=!1}),1e4)},onSortChange:function(t){this.SearchFormData.order_field=t.prop,"ascending"==t.order?this.SearchFormData.order_sort="asc":this.SearchFormData.order_sort="desc",this.init()},onSelectRow:function(t){this.curr_row=t},onPageChange:function(t){this.SearchFormData.page_num=t,this.init()},onRefresh:function(){this.init()},onSearch:function(){this.search_show=!0},onSearchSubmit:function(){this.init(),this.search_show=!1},handleAdd:function(){this.add_show=!0},handleAddUploadSuccess:function(t,e,a){var o=this;0==t.code?(e.url=n["a"].state.AppData.img_host+t.data.url,this.AddFormData.imgs=[],a.forEach((function(t){o.AddFormData.imgs.push(t.url)}))):this.$message.error(t.msg)},handleAddRemove:function(t,e){var a=this;this.AddFormData.imgs=[],e.forEach((function(t){a.AddFormData.imgs.push(t.url)})),console.log(this.AddFormData.imgs)},onAddSubmit:function(){var t=this;s["a"].req("ManageWorkDayAdd",{login_token:s["a"].cookie_get("login_token"),content:this.AddFormData.content,imgs:this.AddFormData.imgs,enable_check:this.AddFormData.enable_check}).then((function(e){t.init(),t.add_show=!1})).catch((function(e){t.$message.error(e.msg)}))},handleEdit:function(){if(null==this.curr_row)return this.$message.error("请选择一条数据"),!1;var t=[];this.curr_row.imgs.length>0&&this.curr_row.imgs.forEach((function(e){t.push({name:e,url:e})})),this.EditFormData={uuid:this.curr_row.uuid,content:this.curr_row.content,imgs:this.curr_row.imgs,file_imgs:t,enable_check:this.curr_row.enable_check},this.edit_show=!0},onEditSubmit:function(){var t=this;s["a"].req("ManageWorkDayEdit",{login_token:s["a"].cookie_get("login_token"),uuid:this.EditFormData.uuid,content:this.EditFormData.content,imgs:this.EditFormData.imgs,enable_check:this.EditFormData.enable_check}).then((function(e){t.init(),t.edit_show=!1})).catch((function(e){t.$message.error(e.msg)}))},handleEditUploadSuccess:function(t,e,a){var o=this;0==t.code?(e.url=n["a"].state.AppData.img_host+t.data.url,this.EditFormData.imgs=[],a.forEach((function(t){o.EditFormData.imgs.push(t.url)}))):this.$message.error(t.msg)},handleEditRemove:function(t,e){var a=this;this.EditFormData.imgs=[],e.forEach((function(t){a.EditFormData.imgs.push(t.url)}))},handleCheck:function(){if(null==this.curr_row)return this.$message.error("请选择一条数据"),!1;this.CheckFormData=this.curr_row,this.check_show=!0},onCheckSubmit:function(){var t=this;s["a"].req("ManageWorkDayCheck",{login_token:s["a"].cookie_get("login_token"),check_content:this.CheckFormData.check_content,uuid:this.curr_row.uuid,check_grade:this.CheckFormData.check_grade}).then((function(e){t.init(),t.check_show=!1})).catch((function(e){t.$message.error(e.msg)}))},handleComment:function(){if(null==this.curr_row)return this.$message.error("请选择一条数据"),!1;this.comment_show=!0},onCommentSubmit:function(){var t=this;s["a"].req("ManageWorkDayCommentAdd",{login_token:s["a"].cookie_get("login_token"),content:this.CommentFormData.content,manage_work_day_uuid:this.curr_row.uuid}).then((function(e){t.comment_show=!1})).catch((function(e){t.$message.error(e.msg)}))},handleDel:function(t){var e=this;c["a"].empty(this.curr_row)?this.$message.error("请选择一条数据"):this.$confirm("确认删除?","提示").then((function(){s["a"].req("ManageWorkDayDel",{login_token:s["a"].cookie_get("login_token"),uuid:e.curr_row.uuid}).then((function(t){e.init(),e.$message.success("操作成功")})).catch((function(t){e.$message.error(t.msg)}))}))},handleDetail:function(){if(null==this.curr_row)return this.$message.error("请选择一条数据"),!1;this.detail_show=!0,this.DetailFormData=this.curr_row,this.onDetailSubmit()},onDetailSubmit:function(){var t=this;s["a"].req("ManageWorkDayDetail",{login_token:s["a"].cookie_get("login_token"),uuid:this.curr_row.uuid}).then((function(e){t.comment_show=!1})).catch((function(e){t.$message.error(e.msg)}))}}},d=l,h=(a("e822"),a("2877")),m=Object(h["a"])(d,o,i,!1,null,"4fd005d2",null);e["default"]=m.exports},e822:function(t,e,a){"use strict";var o=a("2be0"),i=a.n(o);i.a}}]);
//# sourceMappingURL=chunk-02886d48.51364ab7.js.map